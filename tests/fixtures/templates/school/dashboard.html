{% extends "base.html" %}

{% block title %}All Schools{% endblock %}

{% block navigation %}
    {% set path_segments = [
        {"name": "Home", "url": "/"},
        {"name": "Schools", "url": "/schools"}
    ] %}
    {{ super() }}
{% endblock %}

{% block content %}
    <h1>All Schools</h1>
    {% if object is defined and object.schools %} {# Assuming 'object' contains a 'schools' list #}
        <ul>
            {% for school in object.schools %}
                <li>
                    <div class="card">
                        <h3><a href="/schools/{{ school.id }}">{{ school.name }}</a></h3>
                        <p><strong>Location:</strong> {{ school.city }}, {{ school.state }}</p>
                        <p><strong>Total Courses:</strong> {{ school.total_courses }}</p>
                        <p><strong>Total Students:</strong> {{ school.total_students }}</p>
                        <p><a href="/schools/{{ school.id }}/dashboard">View Dashboard</a> | <a href="/schools/{{ school.id }}/admin_dashboard">Admin View</a></p>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% elif schools is defined %} {# Fallback if schools list is passed directly #}
        <ul>
            {% for school in schools %}
                <li>
                    <div class="card">
                        <h3><a href="/schools/{{ school.id }}">{{ school.name }}</a></h3>
                        <p><strong>Location:</strong> {{ school.city }}, {{ school.state }}</p>
                        <p><strong>Total Courses:</strong> {{ school.total_courses }}</p>
                        <p><strong>Total Students:</strong> {{ school.total_students }}</p>
                        <p><a href="/schools/{{ school.id }}/dashboard">View Dashboard</a> | <a href="/schools/{{ school.id }}/admin_dashboard">Admin View</a></p>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No schools available at this time.</p>
    {% endif %}
{% endblock %}